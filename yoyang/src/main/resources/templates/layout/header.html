<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<sec:authorize access="isAuthenticated()">
	<sec:authentication property="principal" var="principal"/>
</sec:authorize>
<title>자원 관리 시스템</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<div th:fragment="header" class="header navbar-fixed-top">
	<nav class="navbar navbar-expand-md bg-dark navbar-dark">
		<a class="navbar-brand" href="/">Home</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div sec:authorize="!isAuthenticated()" class="collapse navbar-collapse" id="collapsibleNavbar">
				<ul class="navbar-nav">
					<li class="nav-item"><a class="nav-link" href="/auth/loginForm">로그인</a></li>
					<li class="nav-item"><a class="nav-link" href="/auth/joinForm">회원가입</a></li>
				</ul>		
		</div>        
		<div sec:authorize="isAuthenticated()" class="collapse navbar-collapse" id="collapsibleNavbar">
			<th:block>
				<ul class="navbar-nav" th:if="${#strings.toString(#authentication.principal.user.role) == 'ADMIN'}">
					<li class="nav-item"><a class="nav-link" href="/board/saveForm">공지사항 작성</a></li>
					<li class="nav-item"><a class="nav-link" href="/user/managementForm">사용자 관리</a></li>
					<li class="nav-item"><a class="nav-link" href="/branch/addBranchForm">지점 추가</a></li>
					<th:block th:if="${#authentication.principal.user.branch == null}" >
						<li class="nav-item"><a class="nav-link" href="/user/connectForm">지점 연결</a></li>
					</th:block>
					<li class="nav-item"><a class="nav-link" href="/branch/branchManagementForm">지점 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/addItemForm">아이템 추가</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemManagementForm">아이템 현황</a></li> 
					<li class="nav-item"><a class="nav-link" href="/item/itemReportForm">발주/소모 보고</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemReportManagementForm">보고 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/user/updateForm">회원정보 수정</a></li>
					<li class="nav-item"><a class="nav-link" href="/logout">로그아웃</a></li>
				</ul>
				<ul class="navbar-nav" th:if="${#strings.toString(#authentication.principal.user.role) == 'MANAGER'}">
					<li class="nav-item"><a class="nav-link" href="/user/managementForm">사용자 관리</a></li>
					<th:block th:if="${#authentication.principal.user.branch == null}" >
						<li class="nav-item"><a class="nav-link" href="/user/connectForm">지점 연결</a></li>
					</th:block>
					<li class="nav-item"><a class="nav-link" href="/item/addItemForm">아이템 추가</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemManagementForm">아이템 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemReportForm">발주/소모 보고</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemReportManagementForm">보고 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/user/updateForm">회원정보 수정</a></li>
					<li class="nav-item"><a class="nav-link" href="/logout">로그아웃</a></li>
				</ul>
				<ul class="navbar-nav" th:if="${#strings.toString(#authentication.principal.user.role) == 'EMPLOYEE'}">
					<li class="nav-item"><a class="nav-link" href="/user/managementForm">사용자 관리</a></li> 
					<th:block th:if="${#authentication.principal.user.branch == null}" >
						<li class="nav-item"><a class="nav-link" href="/user/connectForm">지점 연결</a></li>
					</th:block>
					<li class="nav-item"><a class="nav-link" href="/item/itemManagementForm">아이템 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemReportForm">발주/소모 보고</a></li>
					<li class="nav-item"><a class="nav-link" href="/item/itemReportManagementForm">보고 현황</a></li>
					<li class="nav-item"><a class="nav-link" href="/user/updateForm">회원정보 수정</a></li>
					<li class="nav-item"><a class="nav-link" href="/logout">로그아웃</a></li>
				</ul>
			</th:block>
		</div>
	</nav>
	<br/>

</div>
</html>
